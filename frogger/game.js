vehicles_l=[{veh:{x:330,y:315,x_sprite:10,y_sprite:266,sw:27,sh:19,w:27,h:29}},{veh:{x:200,y:315,x_sprite:10,y_sprite:266,sw:27,sh:19,w:27,h:29}},{veh:{x:70,y:315,x_sprite:10,y_sprite:266,sw:27,sh:19,w:27,h:29}},{veh:{x:280,y:387,x_sprite:106,y_sprite:302,sw:46,sh:18,w:46,h:29}},{veh:{x:150,y:387,x_sprite:106,y_sprite:302,sw:46,sh:18,w:46,h:29}},{veh:{x:20,y:387,x_sprite:106,y_sprite:302,sw:46,sh:18,w:46,h:29}},{veh:{x:320,y:459,x_sprite:10,y_sprite:266,sw:27,sh:19,w:27,h:29}},{veh:{x:170,y:459,x_sprite:10, y_sprite:266,sw:27,sh:19,w:27,h:29}},{veh:{x:20,y:459,x_sprite:10,y_sprite:266,sw:27,sh:19,w:27,h:29}}]; vehicles_r=[{veh:{x:250,y:351,x_sprite:10,y_sprite:300,sw:26,sh:22,w:26,h:29}},{veh:{x:140,y:351,x_sprite:10,y_sprite:300,sw:26,sh:22,w:26,h:29}},{veh:{x:30,y:351,x_sprite:10,y_sprite:300,sw:26,sh:22,w:26,h:29}},{veh:{x:350,y:423,x_sprite:82,y_sprite:264,sw:24,sh:26,w:24,h:29}},{veh:{x:220,y:423,x_sprite:82,y_sprite:264,sw:24,sh:26,w:24,h:29}},{veh:{x:90,y:423,x_sprite:82,y_sprite:264,sw:24,sh:26,w:24,h:29}}]; logs=[{log:{x:10,y:98,x_sprite:7,y_sprite:197,sw:117,sh:20,w:117,h:30}},{log:{x:230,y:98,x_sprite:7,y_sprite:197,sw:117,sh:20,w:117,h:30}},{log:{x:50,y:170,x_sprite:7,y_sprite:230,sw:86,sh:20,w:86,h:30}},{log:{x:250,y:170,x_sprite:7,y_sprite:230,sw:86,sh:20,w:86,h:30}},{log:{x:350,y:242,x_sprite:7,y_sprite:166,sw:179,sh:20,w:179,h:30}},{log:{x:50,y:242,x_sprite:7,y_sprite:166,sw:179,sh:20,w:179,h:30}}]; turtles=[{turtle:{x:10,y:134,x_sprite:13,y_sprite:406,sw:111,sh:22,w:111,h:30}},{turtle:{x:210,y:134,x_sprite:13,y_sprite:406,sw:111,sh:22,w:111,h:30}},{turtle:{x:90,y:206,x_sprite:13,y_sprite:406,sw:111,sh:22,w:111,h:30}},{turtle:{x:290,y:206,x_sprite:13,y_sprite:406,sw:111,sh:22,w:111,h:30}}];snake={sn:{x:290,y:206,x_sprite:184,y_sprite:251,sw:39,sh:14,w:39,h:25}}; goal_sq=[{x:13,y:65,w:28,h:28,is_occupied:0},{x:97,y:65,w:28,h:28,is_occupied:0},{x:182,y:65,w:28,h:28,is_occupied:0},{x:267,y:65,w:28,h:28,is_occupied:0},{x:352,y:65,w:28,h:28,is_occupied:0}]; function init_parameters(){num_lives=4;num_level=1;is_game_over=!1;time=200;speed_veh_r=speed_veh_l=20;speed_log=30;x_coord_frog=154;y_coord_frog=492;num_of_l_veh=6;highscore=score=0;rand_snake=Math.floor(3*Math.random()+1);img=new Image;img.src="assets/frogger_sprites.png";image=document.getElementById("game").getContext("2d");game_over=new Audio("assets/game_over.wav");reached_home=new Audio("assets/success.wav");level_up=new Audio("assets/level_up.wav");death=new Audio("assets/death.wav");motion= new Audio("assets/motion.mp3")}function mobilize_veh_l(){for(i=0;i<vehicles_l.length;i++)vehicles_l[i].veh.x--,vehicles_l[i].veh.x==-vehicles_l[i].veh.w&&(vehicles_l[i].veh.x=398),detection(vehicles_l[i].veh.x,vehicles_l[i].veh.y,vehicles_l[i].veh.w)}function mobilize_veh_r(){for(i=0;i<vehicles_r.length;i++)vehicles_r[i].veh.x++,398==vehicles_r[i].veh.x&&(vehicles_r[i].veh.x=-vehicles_r[i].veh.w),detection(vehicles_r[i].veh.x,vehicles_r[i].veh.y,vehicles_r[i].veh.w)} function mobilize_log(){for(i=0;i<logs.length;i++)logs[i].log.x++,398==logs[i].log.x&&(logs[i].log.x=-logs[i].log.w);for(i=0;i<turtles.length;i++)turtles[i].turtle.x--,turtles[i].turtle.x==-turtles[i].turtle.w&&(turtles[i].turtle.x=398);is_drowning()} function draw_veh_l(){for(i=0;i<vehicles_l.length;i++)image.drawImage(img,vehicles_l[i].veh.x_sprite,vehicles_l[i].veh.y_sprite,vehicles_l[i].veh.sw,vehicles_l[i].veh.sh,vehicles_l[i].veh.x,vehicles_l[i].veh.y,vehicles_l[i].veh.w,vehicles_l[i].veh.h)} function draw_log(){for(i=0;i<logs.length;i++)image.drawImage(img,logs[i].log.x_sprite,logs[i].log.y_sprite,logs[i].log.sw,logs[i].log.sh,logs[i].log.x,logs[i].log.y,logs[i].log.w,logs[i].log.h);draw_snake();detection(snake.sn.x,snake.sn.y,snake.sn.w)} function draw_turtles(){for(i=0;i<turtles.length;i++)image.drawImage(img,turtles[i].turtle.x_sprite,turtles[i].turtle.y_sprite,turtles[i].turtle.sw,turtles[i].turtle.sh,turtles[i].turtle.x,turtles[i].turtle.y,turtles[i].turtle.w,turtles[i].turtle.h)} function draw_veh_r(){for(i=0;i<vehicles_r.length;i++)image.drawImage(img,vehicles_r[i].veh.x_sprite,vehicles_r[i].veh.y_sprite,vehicles_r[i].veh.sw,vehicles_r[i].veh.sh,vehicles_r[i].veh.x,vehicles_r[i].veh.y,vehicles_r[i].veh.w,vehicles_r[i].veh.h)} function draw_snake(){switch(rand_snake){case 1:snake.sn.x=logs[1].log.x;snake.sn.y=logs[1].log.y;image.drawImage(img,snake.sn.x_sprite,snake.sn.y_sprite,snake.sn.sw,snake.sn.sh,snake.sn.x,snake.sn.y,snake.sn.w,snake.sn.h);break;case 2:snake.sn.x=logs[3].log.x;snake.sn.y=logs[3].log.y;image.drawImage(img,snake.sn.x_sprite,snake.sn.y_sprite,snake.sn.sw,snake.sn.sh,snake.sn.x,snake.sn.y,snake.sn.w,snake.sn.h);break;case 3:snake.sn.x=logs[5].log.x,snake.sn.y=logs[5].log.y,image.drawImage(img,snake.sn.x_sprite, snake.sn.y_sprite,snake.sn.sw,snake.sn.sh,snake.sn.x,snake.sn.y,snake.sn.w,snake.sn.h)}}function draw_goal_sq(){image.fillStyle="rgb(200,200,0)";for(i=0;i<goal_sq.length;i++)image.fillRect(goal_sq[i].x,goal_sq[i].y,goal_sq[i].w,goal_sq[i].h),1==goal_sq[i].is_occupied&&image.drawImage(img,12,362,23,27,goal_sq[i].x,goal_sq[i].y,23,30)} function detection(a,b,c){(x_coord_frog>a&&x_coord_frog<a+c&&y_coord_frog+10>b&&y_coord_frog+10<b+30||x_coord_frog+30>a&&x_coord_frog<a&&y_coord_frog+10>b&&y_coord_frog+10<b+30)&&after_collision()} function is_drowning(){if(275>y_coord_frog&&95<y_coord_frog){for(i=is_frog_drown=0;i<logs.length;i++)x_coord_frog>logs[i].log.x&&x_coord_frog<logs[i].log.x+logs[i].log.w&&y_coord_frog+10>logs[i].log.y&&y_coord_frog+10<logs[i].log.y+30&&(398>=x_coord_frog+23?(is_frog_drown=1,x_coord_frog++):x_coord_frog>logs[i].log.x&&(is_frog_drown=1));for(j=0;j<turtles.length;j++)x_coord_frog>turtles[j].turtle.x&&x_coord_frog<turtles[j].turtle.x+turtles[j].turtle.w&&y_coord_frog+10>turtles[j].turtle.y&&y_coord_frog+ 10<turtles[j].turtle.y+30&&1<x_coord_frog&&(is_frog_drown=1,x_coord_frog--);0==is_frog_drown&&after_collision()}}function new_level(){all_occupied=1;for(i=0;i<goal_sq.length;i++)0==goal_sq[i].is_occupied&&(all_occupied=0);if(1==all_occupied){for(j=0;j<goal_sq.length;j++)goal_sq[j].is_occupied=0;draw_goal_sq();score=score+1E3+10*time;num_of_l_veh++;vehicles_l[0].veh.s=3;num_level++;time=200-10*num_level;level_up.play()}}function decrement_time(){time--} function home_col_detection(){if(95>y_coord_frog){for(j=is_frog_home=0;j<goal_sq.length;j++)x_coord_frog>goal_sq[j].x&&x_coord_frog<goal_sq[j].x+goal_sq[j].w&&0==goal_sq[j].is_occupied&&(goal_sq[j].is_occupied=1,x_coord_frog=154,y_coord_frog=492,is_frog_home=1,score+=50,reached_home.play());0==is_frog_home&&after_collision()}}function after_collision(){death.play();x_coord_frog=154;y_coord_frog=492;num_lives--} function draw(){image.fillStyle="#191970";image.fillRect(1,2,398,276);image.fillStyle="#000000";image.fillRect(1,312,398,176);image.fillRect(1,522,398,41);image.drawImage(img,1,1,398,115,1,1,398,100);image.drawImage(img,1,118,398,40,1,277,398,40);image.drawImage(img,1,118,398,40,1,487,398,40);draw_veh_l();draw_veh_r();draw_log();draw_turtles();draw_goal_sq();home_col_detection();new_level();image.drawImage(img,12,362,23,27,x_coord_frog,y_coord_frog,23,30);image.fillStyle="#01fe08";image.font="bold 25px Arial"; image.fillText("Level "+num_level,65,542);image.font="bold 14px Arial";image.fillText("Score: "+score,2,558);image.font="bold 14px Arial";image.fillText("Highscore: "+highscore,87,558);image.font="bold 14px Arial";image.fillText("Time Remaining: "+time,200,558);image.font="bold 14px Arial";1E4<score&&3>num_lives&&num_lives++;if(-1==num_lives||0==time)game_over.play(),(r=confirm("Game Over!"))&&document.location.reload(!0);for(k=0;k<num_lives;k++)image.drawImage(img,12,330,33,27,15*k,520,25,20)} function start_game(){init_parameters();$(document).keydown(function(a){motion.play();switch(a.keyCode){case 37:0>x_coord_frog-30||(x_coord_frog-=30);break;case 38:55>y_coord_frog-36||(y_coord_frog-=36);score+=10;break;case 39:385<x_coord_frog+30||(x_coord_frog+=30);break;case 40:500<y_coord_frog+36||(y_coord_frog+=36)}});setInterval(decrement_time,1E3);setInterval(mobilize_veh_l,speed_veh_l);setInterval(mobilize_veh_r,speed_veh_r);setInterval(mobilize_log,speed_log);setInterval(draw,1)};
